{"version":3,"sources":["media/swlogo.svg","Components/Header/Header.js","Components/SearchForm/SearchForm.js","Components/Loader/Loader.js","Components/Result/Result.js","Views/Results/Results.js","Views/Crawl/Crawl.js","Components/Footer/Footer.js","Modules/api.js","App/App.js","index.js"],"names":["module","exports","Header","className","src","swlogo","alt","React","Component","SearchForm","handleSubmit","e","preventDefault","form","target","endpoint","value","query","props","onSearch","onSubmit","this","required","maxLength","type","name","spellCheck","autoComplete","placeholder","defaultValue","disabled","Loader","animation","show","Result","state","data","stats","Object","keys","forEach","stat","Array","isArray","length","diff","splice","join","setState","crawl","hasCrawl","style","onClick","map","val","key","split","Results","obj","i","rel","searched","error","list","item","getStats","styleObj","animationDelay","title","content","undefined","itemObj","onShowCrawl","start","page","viewing","count","generateResultsList","prev","onNavigate","next","Crawl","handleClose","setTimeout","onClose","lines","line","Footer","config","alignment","enabled","networks","radius","spacing","href","get","url","a","fetch","res","ok","status","json","Promise","reject","getData","URL","App","loading","navigateToPage","n","document","querySelector","scrollTop","handleSearch","handleCrawl","focus","api","then","results","catch","err","message","ReactDOM","render","getElementById"],"mappings":"qHAAAA,EAAOC,QAAU,IAA0B,oC,oTCqB5BC,G,uLAdX,OACE,gCACE,yBAAKC,UAAU,QACb,yBAAKC,IAAKC,IAAQC,IAAI,cACtB,uCAEF,sG,GARaC,IAAMC,YC6BZC,G,iNA3BbC,aAAe,SAAAC,GACbA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,OACTC,EAAWF,EAAKE,SAASC,MACzBC,EAAQJ,EAAKI,MAAMD,MACzB,EAAKE,MAAMC,SAASJ,EAAUE,I,wEAI9B,OACE,0BAAMG,SAAUC,KAAKX,aAAcP,UAAU,cAC3C,2BAAOmB,UAAQ,EAACC,UAAU,KAAKC,KAAK,OAAOC,KAAK,QAAQC,WAAW,QAAQC,aAAa,MAAMC,YAAY,oBAC1G,4BAAQH,KAAK,WAAWI,aAAa,UACnC,4BAAQb,MAAM,UAAd,UACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,aAAd,cAEF,wCACA,4BAAQc,SAAUT,KAAKH,MAAMY,UAA7B,e,GAxBiBvB,IAAMC,YCWhBuB,G,uLATX,IAAIC,EAAYX,KAAKH,MAAMe,KAAO,SAAW,UAC7C,OACE,yBAAK9B,UAAS,0BAAqB6B,IACjC,+BAAa,+BAAa,oC,GALbzB,IAAMC,Y,OCiDZ0B,E,YAlDb,WAAYhB,GAAO,IAAD,8BAChB,4CAAMA,KACDiB,MAAL,eACKjB,EAAMkB,MAHK,E,iFAQE,IAAD,OAETC,EAAUhB,KAAKc,MAAfE,MACRC,OAAOC,KAAKF,GAAOG,SAAQ,SAAAC,GACzB,GAAIC,MAAMC,QAAQN,EAAMI,IAAO,CAC7B,GAAIJ,EAAMI,GAAMG,OAJN,EAIsB,CAC9B,IAAMC,EAAOR,EAAMI,GAAMG,OALjB,EAMRP,EAAMI,GAAQJ,EAAMI,GAAMK,OAAO,EANzB,GAMmCC,KAAK,MAAlC,aAAgDF,EAAhD,cAEdR,EAAMI,GAAQJ,EAAMI,GAAMK,OAAO,EARzB,GAQmCC,KAAK,MAElD,EAAKC,SAAS,CAAEX,gB,+BAMZ,IAAD,EACehB,KAAKc,MAApBV,EADA,EACAA,KAAMY,EADN,EACMA,MACb,OACE,wBACElC,UAAU,oBACV8C,MAAO5B,KAAKH,MAAMgC,SAClBC,MAAO9B,KAAKH,MAAMiC,OAClB,4BAAI,4BAAQC,QAAS/B,KAAKH,MAAMkC,SAAU3B,IAC1C,yBAAKtB,UAAU,SAEXmC,OAAOC,KAAKF,GAAOgB,KAAI,SAAAZ,GACrB,IAAIa,EAAMjB,EAAMI,GAChB,OACE,0BAAMc,IAAKd,EAAMtC,UAAU,QACxBsC,EAAKe,MAAM,KAAKT,KAAK,KADxB,KAC+B,2BAAIO,a,GAxC9B/C,IAAMC,WC4FZiD,G,uLAnFJC,GACP,IAAItB,EAAI,eAAOsB,GAYf,OAXApB,OAAOC,KAAKH,GAAMI,SAAQ,SAAAC,IACX,SAATA,GACO,UAATA,GACS,YAATA,GACS,WAATA,GACS,kBAATA,GACS,OAATA,GACuB,kBAAfL,EAAKK,IAA4C,IAAtBL,EAAKK,GAAMG,gBACvCR,EAAKK,MAGTL,I,4CAIa,IAAD,OACfuB,EAAI,EADW,EAEatC,KAAKH,MAAM0C,IAApCxB,EAFY,EAEZA,KAAMyB,EAFM,EAENA,SAAUC,EAFJ,EAEIA,MACjBC,EAAO3B,EAAKiB,KAAI,SAAAW,GAEpB,IAAM3B,EAAQ,EAAK4B,SAASD,GACtBE,EAAW,CACfC,eAAe,GAAD,OAAS,GAAJR,EAAL,MAEhBA,IAEA,IAAMV,EAAQ,CACZmB,MAAOJ,EAAI,MACXK,QAASL,EAAI,eAETd,EAAWD,EAAMoB,QAAU,WAAQC,EACnCC,EAAU,CACd9C,KAAMuC,EAAKvC,MAAQuC,EAAKI,MACxB/B,MAAOA,GAGT,OACE,kBAAC,EAAD,CACEkB,IAAKgB,EAAQ9C,KACb2B,QAAS,kBAAMH,EAAMoB,QAAU,EAAKnD,MAAMsD,YAAYvB,GAAS,IAC/DC,SAAUA,EACVC,MAAOe,EACP9B,KAAMmC,OAKZ,OAAOnC,EAAKQ,OAASmB,EAAOD,EAC1B,uBAAG3D,UAAU,SAAS2D,EAAtB,6BACED,EACF,gDACE,K,+BAGI,IAAD,OACH7B,EAAYX,KAAKH,MAAMe,KAAO,SAAW,UACvCwC,EAAoC,IAA3BpD,KAAKH,MAAM0C,IAAIc,KAAO,GAC/BC,EAAUtD,KAAKH,MAAM0C,IAAIgB,MAAQH,EAAQ,GAA/B,kBAA+CA,EAAQ,EAAvD,cAA8DA,EAAQ,GAAtE,eAA+EpD,KAAKH,MAAM0C,IAAIgB,OAA9F,kBAAmHH,EAAQ,EAA3H,cAAkIpD,KAAKH,MAAM0C,IAAIgB,MAAjJ,eAA6JvD,KAAKH,MAAM0C,IAAIgB,OAC5L,OACE,wBAAIzE,UAAS,2BAAsB6B,IAChCX,KAAKH,MAAM0C,IAAIC,UAAYxC,KAAKH,MAAM0C,IAAIgB,MAAQ,EACjD,2BAAID,GACF,GACHtD,KAAKwD,sBACLxD,KAAKH,MAAM0C,IAAIC,SACd,wBAAI1D,UAAU,WACZ,4BACEA,UAAU,MACV2B,UAAWT,KAAKH,MAAM0C,IAAIkB,KAC1B1B,QAAS,kBAAM,EAAKlC,MAAM6D,YAAY,KAHxC,iBAIA,4BACE5E,UAAU,MACV2B,UAAWT,KAAKH,MAAM0C,IAAIoB,KAC1B5B,QAAS,kBAAM,EAAKlC,MAAM6D,WAAW,KAHvC,cAKA,Q,GAnFUxE,IAAMC,YCmCbyE,G,iNAnCb9C,MAAQ,CACNH,UAAW,U,EAIbkD,YAAc,WACZ,EAAKlC,SAAS,CAAEhB,UAAW,YAC3BmD,YAAW,WACT,EAAKjE,MAAMkE,YACV,M,wEAGK,IACDhD,EAAQf,KAAKH,MAAbkB,KAEHuB,EAAI,EACF0B,EAAQjD,EAAKiC,QAAUjC,EAAKiC,QAAQb,MAAM,MAAMH,KAAI,SAAAiC,GAExD,OADA3B,IAEE,0BAAMJ,IAAK+B,EAAO3B,GAAI2B,EAAK,iCACvB,GACR,OACE,yBAAKnF,UAAS,+BAA0BkB,KAAKc,MAAMH,YACjD,4BAAQoB,QAAS/B,KAAK6D,aAAtB,SACA,yBAAK/E,UAAU,SACb,4BAAKiC,EAAKgC,OACV,2BACGiB,S,GA5BO9E,IAAMC,Y,gBCyBX+E,E,iLAtBX,OACE,gCACE,kBAAC,qBAAD,CACEC,OAAQ,CACNC,UAAW,SACXC,SAAS,EACTC,SAAU,CACR,WACA,UACA,YACA,QACA,OAEFC,OAAQ,GACRC,QAAS,KAEb,sDAA2B,uBAAGC,KAAK,2BAA2BhF,OAAO,SAAS8C,IAAI,uBAAvD,iBAA3B,U,GAlBarD,IAAMC,W,yCCDZuF,E,8EAAf,WAAmBC,GAAnB,mBAAAC,EAAA,sEAEoBC,MAAMF,GAF1B,cAEQG,EAFR,QAGWC,KACPtC,EAAQqC,EAAIE,QAJhB,SAKqBF,EAAIG,OALzB,UAKQlE,EALR,QAMM0B,EANN,yCAOWyC,QAAQC,OAAO1C,IAP1B,gCASS1B,GATT,6C,sBAuBe,OACbqE,QANF,SAAiB1F,EAAUE,GAAgB,IAATyD,EAAQ,uDAAH,EAC/BgC,EAAG,0CAAsC3F,EAAtC,cAAoDE,EAApD,cAA+DyD,GACxE,OAAOqB,EAAIW,KCoGEC,E,2MA/GbxE,MAAQ,CACNC,KAAM,GACNwC,MAAO,EACPf,UAAU,EACV+C,SAAS,EACT7F,SAAU,KACVE,MAAO,KACPyD,KAAM,KACNM,MAAM,EACNF,MAAM,EACN7B,MAAO,KACPa,MAAO,M,EA6BT+C,eAAiB,WAAU,IAATC,EAAQ,uDAAN,EAClBC,SAASC,cAAc,QAAQC,UAAY,EAC3C,IAAIvC,EAAO,EAAKvC,MAAMuC,KAAOoC,EAC7B,EAAK9D,SAAS,CACZ0B,KAAMA,EACNkC,SAAS,GACR,EAAKH,U,EAQVS,aAAe,SAACnG,EAAUE,GACxB,EAAK+B,SAAS,CACZ0B,KAAM,EACNkC,SAAS,EACT7F,SAAUA,EACVE,MAAOA,GACN,EAAKwF,U,EASVU,YAAc,SAAAlE,GACRA,GACF,EAAKD,SAAS,CACZC,MAAOA,IAET,kBAAM8D,SAASC,cAAc,uBAAuBI,Y,EAMxDlC,YAAc,WACZ,EAAKlC,SAAS,CACZC,MAAO,Q,yEAnEA,IAAD,SACwB5B,KAAKc,MAA9BpB,EADC,EACDA,SAAUE,EADT,EACSA,MAAOyD,EADhB,EACgBA,KACxB2C,EAAIZ,QAAQ1F,EAAUE,EAAOyD,GAC1B4C,MAAK,SAAAlF,GACJ,EAAKY,SAAS,CACZZ,KAAMA,EAAKmF,QACX3C,MAAOxC,EAAKwC,MACZf,UAAU,EACV+C,SAAS,EACT5B,KAAM5C,EAAK4C,KACXF,KAAM1C,EAAK0C,UAGd0C,OAAM,SAAAC,GACL,EAAKzE,SAAS,CACZ4D,SAAS,EACT9C,MAAO2D,EAAIC,e,+BAwDjB,OACE,yBAAKvH,UAAU,OACb,kBAAC,EAAD,MAEA,8BACE,kBAAC,EAAD,CAAYgB,SAAUE,KAAK6F,aAAcpF,SAAUT,KAAKc,MAAMyE,UAC9D,kBAAC,EAAD,CAAQ3E,KAAMZ,KAAKc,MAAMyE,UAEzB,kBAAC,EAAD,CACEhD,IAAKvC,KAAKc,MACVF,MAAOZ,KAAKc,MAAMyE,QAClBpC,YAAanD,KAAK8F,YAClBpC,WAAY1D,KAAKwF,iBAElBxF,KAAKc,MAAMc,OAAS5B,KAAKc,MAAMc,MAAMoB,SAAmC,UAAxBhD,KAAKc,MAAMpB,SAAwB,kBAAC,EAAD,CAAOqB,KAAMf,KAAKc,MAAMc,MAAOmC,QAAS/D,KAAK6D,cAAkB,IAIrJ,kBAAC,EAAD,W,GA1GU3E,IAAMC,W,MCNxBmH,IAASC,OAAO,kBAAC,EAAD,MAASb,SAASc,eAAe,W","file":"static/js/main.fd92d4ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/swlogo.c41f740a.svg\";","import React from 'react';\r\n\r\nimport swlogo from '../../media/swlogo.svg'\r\nimport './Header.css';\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <div className=\"logo\">\r\n          <img src={swlogo} alt=\"Star Wars\"/>\r\n          <h1>SEARCH</h1>\r\n        </div>\r\n        <p>\r\n          Find people, planets, films, and more from the Star Wars Universe.\r\n        </p>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './SearchForm.css';\r\n\r\nclass SearchForm extends React.Component {\r\n\r\n  /** intercepts form submission and grabs form values */\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const endpoint = form.endpoint.value;\r\n    const query = form.query.value;\r\n    this.props.onSearch(endpoint, query);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className=\"searchform\">\r\n        <input required maxLength=\"50\" type=\"text\" name=\"query\" spellCheck=\"false\" autoComplete=\"off\" placeholder=\"Search criteria\"/>\r\n        <select name=\"endpoint\" defaultValue=\"people\">\r\n          <option value=\"people\">People</option>\r\n          <option value=\"planets\">Planets</option>\r\n          <option value=\"films\">Films</option>\r\n          <option value=\"species\">Species</option>\r\n          <option value=\"vehicles\">Vehicles</option>\r\n          <option value=\"starships\">Starships</option>\r\n        </select>\r\n        <span>â–¼</span>\r\n        <button disabled={this.props.disabled}>Search</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nclass Loader extends React.Component {\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    return (\r\n      <div className={`loader animated ${animation}`}>\r\n        <span></span><span></span><span></span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nclass Result extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ...props.data\r\n    }\r\n  }\r\n\r\n  /** checks each stat and makes necessary extra api calls to populate result */\r\n  componentDidMount(){\r\n    const limit = 3;\r\n    const { stats } = this.state;\r\n    Object.keys(stats).forEach(stat => {\r\n      if (Array.isArray(stats[stat])){\r\n        if (stats[stat].length > limit) {\r\n          const diff = stats[stat].length - limit;\r\n          stats[stat] = stats[stat].splice(0, limit).join(', ') + ` + ${diff} more`;\r\n        } else {\r\n          stats[stat] = stats[stat].splice(0, limit).join(', ')\r\n        }\r\n        this.setState({ stats });\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  render() {\r\n    const {name, stats} = this.state;\r\n    return (\r\n      <li\r\n        className=\"animated fadeInUp\"\r\n        crawl={this.props.hasCrawl}\r\n        style={this.props.style}>\r\n        <h2><button onClick={this.props.onClick}>{name}</button></h2>\r\n        <div className=\"stats\">\r\n          {\r\n            Object.keys(stats).map(stat => {\r\n              let val = stats[stat];\r\n              return (\r\n                <span key={stat} className=\"stat\">\r\n                  {stat.split('_').join(' ')}: <b>{val}</b>\r\n                </span>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Result;","import React from 'react';\r\n\r\nimport Result from '../../Components/Result/Result';\r\nimport './Results.css';\r\n\r\nclass Results extends React.Component {\r\n\r\n  /**\r\n   * filters unwanted keys out of a result\r\n   * @param {Object} obj individual result to filter keys from\r\n   */\r\n  getStats(obj) {\r\n    let data = {...obj}\r\n    Object.keys(data).forEach(stat => {\r\n      if (stat === 'name' ||\r\n        stat === 'title' ||\r\n        stat === 'created' ||\r\n        stat === 'edited' ||\r\n        stat === 'opening_crawl' ||\r\n        stat === 'id' ||\r\n        (typeof data[stat] === 'object' && data[stat].length === 0)) {\r\n        delete data[stat];\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  /** maps through 'rel' prop to create a list of Result components */\r\n  generateResultsList(){\r\n    let i = 0;\r\n    const {data, searched, error} = this.props.rel;\r\n    const list = data.map(item => {\r\n\r\n      const stats = this.getStats(item);\r\n      const styleObj = {\r\n        animationDelay: `${i * 0.2}s`\r\n      };\r\n      i++;\r\n\r\n      const crawl = {\r\n        title: item['title'],\r\n        content: item['opening_crawl']\r\n      };\r\n      const hasCrawl = crawl.content ? 'yes' : undefined;\r\n      const itemObj = {\r\n        name: item.name || item.title,\r\n        stats: stats\r\n      }\r\n\r\n      return (\r\n        <Result\r\n          key={itemObj.name}\r\n          onClick={() => crawl.content ? this.props.onShowCrawl(crawl) : ''}\r\n          hasCrawl={hasCrawl}\r\n          style={styleObj}\r\n          data={itemObj}\r\n          />\r\n      );\r\n    });\r\n    \r\n    return data.length ? list : error ? (\r\n      <p className='error'>{error}. Please try again later.</p>\r\n    ) : searched ? (\r\n      <p>No results found.</p>\r\n    ) : '';\r\n  }\r\n\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    const start = (this.props.rel.page - 1) * 10;\r\n    const viewing = this.props.rel.count > start + 10 ? `Results ${start + 1} - ${start + 10} of ${this.props.rel.count}` : `Results ${start + 1} - ${this.props.rel.count} of ${this.props.rel.count}`;\r\n    return (\r\n      <ul className={`results animated ${animation}`}>\r\n        {this.props.rel.searched && this.props.rel.count > 0 ? (\r\n          <p>{viewing}</p>\r\n        ) : ''}\r\n        {this.generateResultsList()}\r\n        {this.props.rel.searched ? (\r\n          <li className=\"buttons\">\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.prev}\r\n              onClick={() => this.props.onNavigate(-1)}>Previous page</button>\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.next}\r\n              onClick={() => this.props.onNavigate(1)}>Next page</button>\r\n          </li>\r\n        ) : ''}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\n\r\nimport './Crawl.css';\r\n\r\nclass Crawl extends React.Component {\r\n  state = {\r\n    animation: 'fadeIn'\r\n  };\r\n\r\n  /** closes the component */\r\n  handleClose = () => {\r\n    this.setState({ animation: 'fadeOut' });\r\n    setTimeout(() => {\r\n      this.props.onClose();\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n\r\n    let i = 0;\r\n    const lines = data.content ? data.content.split('\\n').map(line => {\r\n      i++;\r\n      return (\r\n        <span key={line + i}>{line}<br/></span>\r\n      )}) : '';\r\n    return (\r\n      <div className={`crawl-space animated ${this.state.animation}`}>\r\n        <button onClick={this.handleClose}>Close</button>\r\n        <div className=\"crawl\">\r\n          <h2>{data.title}</h2>\r\n          <p>\r\n            {lines}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Crawl;","import React from 'react';\r\nimport './Footer.css';\r\n\r\nimport {InlineShareButtons} from 'sharethis-reactjs';\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <InlineShareButtons\r\n          config={{\r\n            alignment: 'center',\r\n            enabled: true,\r\n            networks: [\r\n              'facebook',\r\n              'twitter',\r\n              'pinterest',\r\n              'email',\r\n              'sms'\r\n            ],\r\n            radius: 50,\r\n            spacing: 8\r\n          }} />\r\n        <p>Designed & developed by <a href=\"https://malcolmkiano.com\" target=\"_blank\" rel=\"noopener noreferrer\">Malcolm Kiano</a>.</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","/**\r\n * performs a fetch request from given url, with error handling\r\n * @param {string} url the url to make the fetch call from\r\n */\r\nasync function get(url){\r\n  let error;\r\n  const res = await fetch(url);\r\n  if (!res.ok)\r\n    error = res.status;\r\n  const data = await res.json();\r\n  if (error) {\r\n    return Promise.reject(error);\r\n  }\r\n  return data;\r\n}\r\n\r\n/**\r\n * format a fetch request using different params\r\n * @param {string} endpoint the API endpoint to make a call to\r\n * @param {string} query the user's search query\r\n * @param {number} [page] the page to get the data from\r\n */\r\nfunction getData(endpoint, query, page=1) {\r\n  const URL = `https://swapi-sws.herokuapp.com/${endpoint}?q=${query}&p=${page}`;\r\n  return get(URL);\r\n}\r\n\r\nexport default {\r\n  getData\r\n}","import React from 'react';\r\n\r\nimport Header from '../Components/Header/Header';\r\nimport SearchForm from '../Components/SearchForm/SearchForm';\r\nimport Loader from '../Components/Loader/Loader';\r\nimport Results from '../Views/Results/Results';\r\nimport Crawl from '../Views/Crawl/Crawl';\r\nimport Footer from '../Components/Footer/Footer';\r\nimport './App.css';\r\n\r\nimport api from '../Modules/api';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    data: [],\r\n    count: 0,\r\n    searched: false,\r\n    loading: false,\r\n    endpoint: null,\r\n    query: null,\r\n    page: null,\r\n    next: false,\r\n    prev: false,\r\n    crawl: null,\r\n    error: null\r\n  }\r\n  \r\n  /** performs API call based on values in state */\r\n  getData() {\r\n    const {endpoint, query, page} = this.state;\r\n    api.getData(endpoint, query, page)\r\n      .then(data => {\r\n        this.setState({\r\n          data: data.results,\r\n          count: data.count,\r\n          searched: true,\r\n          loading: false,\r\n          next: data.next,\r\n          prev: data.prev\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loading: false,\r\n          error: err.message\r\n        });\r\n      });\r\n  }\r\n\r\n  /**\r\n   * updates value of page in state then calls getData\r\n   * @param {number} [n] number of pages to navigate (1 or -1)\r\n   */\r\n  navigateToPage = (n=1) => {\r\n    document.querySelector('.App').scrollTop = 0;\r\n    let page = this.state.page + n;\r\n    this.setState({ \r\n      page: page,\r\n      loading: true\r\n    }, this.getData);\r\n  }\r\n\r\n  /**\r\n   * updates state with values from form then calls getData\r\n   * @param {string} endpoint the endpoint to get data from\r\n   * @param {string} query the search query\r\n   */\r\n  handleSearch = (endpoint, query) => {\r\n    this.setState({\r\n      page: 1,\r\n      loading: true,\r\n      endpoint: endpoint,\r\n      query: query\r\n    }, this.getData);\r\n  }\r\n\r\n  /**\r\n   * shows crawl component when a film title is clicked\r\n   * @param {object} crawl the crawl object for the film\r\n   * @param {string} crawl.title the title of the film\r\n   * @param {string} crawl.content the crawl content for the film\r\n   */\r\n  handleCrawl = crawl => {\r\n    if (crawl) {\r\n      this.setState({\r\n        crawl: crawl\r\n      },\r\n      () => document.querySelector('.crawl-space button').focus()\r\n      );\r\n    }\r\n  }\r\n\r\n  /** closes the crawl component */\r\n  handleClose = () => {\r\n    this.setState({\r\n      crawl: null\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n  \r\n        <main>\r\n          <SearchForm onSearch={this.handleSearch} disabled={this.state.loading}/>\r\n          <Loader show={this.state.loading}/>\r\n\r\n          <Results\r\n            rel={this.state}\r\n            show={!this.state.loading}\r\n            onShowCrawl={this.handleCrawl}\r\n            onNavigate={this.navigateToPage}/>\r\n\r\n          {this.state.crawl && this.state.crawl.content && this.state.endpoint === 'films' ? (<Crawl data={this.state.crawl} onClose={this.handleClose}/>) : ''}\r\n\r\n        </main>\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}