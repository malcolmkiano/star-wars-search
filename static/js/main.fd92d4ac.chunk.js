(this["webpackJsonpstar-wars-search"]=this["webpackJsonpstar-wars-search"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/swlogo.c41f740a.svg"},,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),s=a(1),o=a(2),i=a(4),u=a(3),p=a(5),h=a(10),m=a.n(h),f=(a(18),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:m.a,alt:"Star Wars"}),r.a.createElement("h1",null,"SEARCH")),r.a.createElement("p",null,"Find people, planets, films, and more from the Star Wars Universe."))}}]),t}(r.a.Component)),d=(a(19),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=e.target,n=t.endpoint.value,r=t.query.value;a.props.onSearch(n,r)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"searchform"},r.a.createElement("input",{required:!0,maxLength:"50",type:"text",name:"query",spellCheck:"false",autoComplete:"off",placeholder:"Search criteria"}),r.a.createElement("select",{name:"endpoint",defaultValue:"people"},r.a.createElement("option",{value:"people"},"People"),r.a.createElement("option",{value:"planets"},"Planets"),r.a.createElement("option",{value:"films"},"Films"),r.a.createElement("option",{value:"species"},"Species"),r.a.createElement("option",{value:"vehicles"},"Vehicles"),r.a.createElement("option",{value:"starships"},"Starships")),r.a.createElement("span",null,"\u25bc"),r.a.createElement("button",{disabled:this.props.disabled},"Search"))}}]),t}(r.a.Component)),b=(a(20),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.show?"fadeIn":"fadeOut";return r.a.createElement("div",{className:"loader animated ".concat(e)},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))}}]),t}(r.a.Component)),v=a(6),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state=Object(v.a)({},e.data),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.stats;Object.keys(t).forEach((function(a){if(Array.isArray(t[a])){if(t[a].length>3){var n=t[a].length-3;t[a]=t[a].splice(0,3).join(", ")+" + ".concat(n," more")}else t[a]=t[a].splice(0,3).join(", ");e.setState({stats:t})}}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.stats;return r.a.createElement("li",{className:"animated fadeInUp",crawl:this.props.hasCrawl,style:this.props.style},r.a.createElement("h2",null,r.a.createElement("button",{onClick:this.props.onClick},t)),r.a.createElement("div",{className:"stats"},Object.keys(a).map((function(e){var t=a[e];return r.a.createElement("span",{key:e,className:"stat"},e.split("_").join(" "),": ",r.a.createElement("b",null,t))}))))}}]),t}(r.a.Component),g=(a(21),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getStats",value:function(e){var t=Object(v.a)({},e);return Object.keys(t).forEach((function(e){("name"===e||"title"===e||"created"===e||"edited"===e||"opening_crawl"===e||"id"===e||"object"===typeof t[e]&&0===t[e].length)&&delete t[e]})),t}},{key:"generateResultsList",value:function(){var e=this,t=0,a=this.props.rel,n=a.data,c=a.searched,l=a.error,s=n.map((function(a){var n=e.getStats(a),c={animationDelay:"".concat(.2*t,"s")};t++;var l={title:a.title,content:a.opening_crawl},s=l.content?"yes":void 0,o={name:a.name||a.title,stats:n};return r.a.createElement(E,{key:o.name,onClick:function(){return l.content?e.props.onShowCrawl(l):""},hasCrawl:s,style:c,data:o})}));return n.length?s:l?r.a.createElement("p",{className:"error"},l,". Please try again later."):c?r.a.createElement("p",null,"No results found."):""}},{key:"render",value:function(){var e=this,t=this.props.show?"fadeIn":"fadeOut",a=10*(this.props.rel.page-1),n=this.props.rel.count>a+10?"Results ".concat(a+1," - ").concat(a+10," of ").concat(this.props.rel.count):"Results ".concat(a+1," - ").concat(this.props.rel.count," of ").concat(this.props.rel.count);return r.a.createElement("ul",{className:"results animated ".concat(t)},this.props.rel.searched&&this.props.rel.count>0?r.a.createElement("p",null,n):"",this.generateResultsList(),this.props.rel.searched?r.a.createElement("li",{className:"buttons"},r.a.createElement("button",{className:"btn",disabled:!this.props.rel.prev,onClick:function(){return e.props.onNavigate(-1)}},"Previous page"),r.a.createElement("button",{className:"btn",disabled:!this.props.rel.next,onClick:function(){return e.props.onNavigate(1)}},"Next page")):"")}}]),t}(r.a.Component)),j=(a(22),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={animation:"fadeIn"},a.handleClose=function(){a.setState({animation:"fadeOut"}),setTimeout((function(){a.props.onClose()}),500)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data,t=0,a=e.content?e.content.split("\n").map((function(e){return t++,r.a.createElement("span",{key:e+t},e,r.a.createElement("br",null))})):"";return r.a.createElement("div",{className:"crawl-space animated ".concat(this.state.animation)},r.a.createElement("button",{onClick:this.handleClose},"Close"),r.a.createElement("div",{className:"crawl"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,a)))}}]),t}(r.a.Component)),y=(a(23),a(11)),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement(y.InlineShareButtons,{config:{alignment:"center",enabled:!0,networks:["facebook","twitter","pinterest","email","sms"],radius:50,spacing:8}}),r.a.createElement("p",null,"Designed & developed by ",r.a.createElement("a",{href:"https://malcolmkiano.com",target:"_blank",rel:"noopener noreferrer"},"Malcolm Kiano"),"."))}}]),t}(r.a.Component),w=(a(24),a(7)),k=a.n(w),C=a(12);function S(e){return N.apply(this,arguments)}function N(){return(N=Object(C.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return(n=e.sent).ok||(a=n.status),e.next=6,n.json();case 6:if(r=e.sent,!a){e.next=9;break}return e.abrupt("return",Promise.reject(a));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={getData:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="https://swapi-sws.herokuapp.com/".concat(e,"?q=").concat(t,"&p=").concat(a);return S(n)}},q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],count:0,searched:!1,loading:!1,endpoint:null,query:null,page:null,next:!1,prev:!1,crawl:null,error:null},a.navigateToPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;document.querySelector(".App").scrollTop=0;var t=a.state.page+e;a.setState({page:t,loading:!0},a.getData)},a.handleSearch=function(e,t){a.setState({page:1,loading:!0,endpoint:e,query:t},a.getData)},a.handleCrawl=function(e){e&&a.setState({crawl:e},(function(){return document.querySelector(".crawl-space button").focus()}))},a.handleClose=function(){a.setState({crawl:null})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getData",value:function(){var e=this,t=this.state,a=t.endpoint,n=t.query,r=t.page;x.getData(a,n,r).then((function(t){e.setState({data:t.results,count:t.count,searched:!0,loading:!1,next:t.next,prev:t.prev})})).catch((function(t){e.setState({loading:!1,error:t.message})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement("main",null,r.a.createElement(d,{onSearch:this.handleSearch,disabled:this.state.loading}),r.a.createElement(b,{show:this.state.loading}),r.a.createElement(g,{rel:this.state,show:!this.state.loading,onShowCrawl:this.handleCrawl,onNavigate:this.navigateToPage}),this.state.crawl&&this.state.crawl.content&&"films"===this.state.endpoint?r.a.createElement(j,{data:this.state.crawl,onClose:this.handleClose}):""),r.a.createElement(O,null))}}]),t}(r.a.Component);a(26);l.a.render(r.a.createElement(q,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.fd92d4ac.chunk.js.map