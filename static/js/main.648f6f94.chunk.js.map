{"version":3,"sources":["media/swlogo.svg","Components/Header/Header.js","Components/SearchForm/SearchForm.js","Components/Loader/Loader.js","Modules/api.js","Components/Result/Result.js","Views/Results/Results.js","Views/Crawl/Crawl.js","Components/Footer/Footer.js","App/App.js","index.js"],"names":["module","exports","Header","className","src","swlogo","alt","React","Component","SearchForm","handleSubmit","e","preventDefault","form","target","endpoint","value","query","props","onSearch","onSubmit","this","required","maxLength","type","name","spellCheck","autoComplete","placeholder","defaultValue","disabled","Loader","animation","show","get","url","a","fetch","res","ok","error","status","json","data","Promise","reject","getData","page","URL","Result","state","stats","Object","keys","forEach","stat","startsWith","api","then","setState","title","Array","isArray","list","slice","sliced","length","all","map","join","crawl","hasCrawl","style","onClick","val","key","split","Results","obj","i","rel","searched","item","getStats","styleObj","animationDelay","content","undefined","itemObj","onShowCrawl","start","viewing","count","generateResultsList","previous","onNavigate","next","Crawl","handleClose","setTimeout","onClose","lines","line","Footer","config","alignment","enabled","networks","radius","spacing","href","App","loading","prev","navigateToPage","n","document","querySelector","scrollTop","handleSearch","handleCrawl","focus","results","catch","err","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.648f6f94.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/swlogo.c41f740a.svg\";","import React from 'react';\r\n\r\nimport swlogo from '../../media/swlogo.svg'\r\nimport './Header.css';\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <div className=\"logo\">\r\n          <img src={swlogo} alt=\"Star Wars\"/>\r\n          <h1>SEARCH</h1>\r\n        </div>\r\n        <p>\r\n          Find people, planets, films, and more from the Star Wars Universe.\r\n        </p>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './SearchForm.css';\r\n\r\nclass SearchForm extends React.Component {\r\n\r\n  /** intercepts form submission and grabs form values */\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const endpoint = form.endpoint.value;\r\n    const query = form.query.value;\r\n    this.props.onSearch(endpoint, query);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className=\"searchform\">\r\n        <input required maxLength=\"50\" type=\"text\" name=\"query\" spellCheck=\"false\" autoComplete=\"off\" placeholder=\"Search criteria\"/>\r\n        <select name=\"endpoint\" defaultValue=\"people\">\r\n          <option value=\"people\">People</option>\r\n          <option value=\"planets\">Planets</option>\r\n          <option value=\"films\">Films</option>\r\n          <option value=\"species\">Species</option>\r\n          <option value=\"vehicles\">Vehicles</option>\r\n          <option value=\"starships\">Starships</option>\r\n        </select>\r\n        <span>â–¼</span>\r\n        <button disabled={this.props.disabled}>Search</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nclass Loader extends React.Component {\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    return (\r\n      <div className={`loader animated ${animation}`}>\r\n        <span></span><span></span><span></span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loader;","/**\r\n * performs a fetch request from given url, with error handling\r\n * @param {string} url the url to make the fetch call from\r\n */\r\nasync function get(url){\r\n  let error;\r\n  const res = await fetch(url);\r\n  if (!res.ok)\r\n    error = res.status;\r\n  const data = await res.json();\r\n  if (error) {\r\n    return Promise.reject(error);\r\n  }\r\n  return data;\r\n}\r\n\r\n/**\r\n * format a fetch request using different params\r\n * @param {string} endpoint the API endpoint to make a call to\r\n * @param {string} query the user's search query\r\n * @param {number} [page] the page to get the data from\r\n */\r\nfunction getData(endpoint, query, page=1) {\r\n  const URL = `https://swapi.co/api/${endpoint}?search=${query}&page=${page}`;\r\n  return get(URL);\r\n}\r\n\r\nexport default {\r\n  getData,\r\n  get\r\n}","import React from 'react';\r\n\r\nimport api from '../../Modules/api';\r\n\r\nclass Result extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ...props.data\r\n    }\r\n  }\r\n\r\n  /** checks each stat and makes necessary extra api calls to populate result */\r\n  componentDidMount(){\r\n    const limit = 3;\r\n    let {stats} = this.state;\r\n    Object.keys(stats).forEach(stat => {\r\n      if (typeof stats[stat] === 'string' && stats[stat].startsWith('http')) {\r\n        api.get(stats[stat])\r\n          .then(data => {\r\n            this.setState({\r\n              stats: {\r\n                ...this.state.stats,\r\n                [stat]: data.name || data.title\r\n              }\r\n            });\r\n          })\r\n      } else if (Array.isArray(stats[stat])) {\r\n        let list = stats[stat].slice(0, limit);\r\n        let sliced = stats[stat].length > limit ? ` + ${stats[stat].length - limit} more` : '';\r\n        Promise.all(list.map(url => api.get(url).then(data => data.name || data.title)))\r\n        .then(data => {\r\n          this.setState({\r\n            stats: {\r\n              ...this.state.stats,\r\n              [stat]: data.join(', ') + sliced\r\n            }\r\n          });\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {name, stats} = this.state;\r\n    return (\r\n      <li\r\n        className=\"animated fadeInUp\"\r\n        crawl={this.props.hasCrawl}\r\n        style={this.props.style}>\r\n        <h2><button onClick={this.props.onClick}>{name}</button></h2>\r\n        <div className=\"stats\">\r\n          {\r\n            Object.keys(stats).map(stat => {\r\n              let val = stats[stat];\r\n              if ((typeof val === 'object' && val[0].startsWith('http')) ||\r\n                  (typeof val === 'string' && val.startsWith('http'))) {\r\n                val = '...';\r\n              }\r\n              return (\r\n                <span key={stat} className=\"stat\">\r\n                  {stat.split('_').join(' ')}: <b>{val}</b>\r\n                </span>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Result;","import React from 'react';\r\n\r\nimport Result from '../../Components/Result/Result';\r\nimport './Results.css';\r\n\r\nclass Results extends React.Component {\r\n\r\n  /**\r\n   * filters unwanted keys out of a result\r\n   * @param {Object} obj individual result to filter keys from\r\n   */\r\n  getStats(obj) {\r\n    let data = {...obj}\r\n    Object.keys(data).forEach(stat => {\r\n      if (stat === 'name' ||\r\n        stat === 'title' ||\r\n        stat === 'created' ||\r\n        stat === 'edited' ||\r\n        stat === 'opening_crawl' ||\r\n        stat === 'url' ||\r\n        (typeof data[stat] === 'object' && data[stat].length === 0)) {\r\n        delete data[stat];\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  /** maps through 'rel' prop to create a list of Result components */\r\n  generateResultsList(){\r\n    let i = 0;\r\n    const {data, searched, error} = this.props.rel;\r\n    const list = data.map(item => {\r\n\r\n      const stats = this.getStats(item);\r\n      const styleObj = {\r\n        animationDelay: `${i * 0.2}s`\r\n      };\r\n      i++;\r\n\r\n      const crawl = {\r\n        title: item['title'],\r\n        content: item['opening_crawl']\r\n      };\r\n      const hasCrawl = crawl.content ? 'yes' : undefined;\r\n      const itemObj = {\r\n        name: item.name || item.title,\r\n        stats: stats\r\n      }\r\n\r\n      return (\r\n        <Result\r\n          key={itemObj.name}\r\n          onClick={() => crawl.content ? this.props.onShowCrawl(crawl) : ''}\r\n          hasCrawl={hasCrawl}\r\n          style={styleObj}\r\n          data={itemObj}\r\n          />\r\n      );\r\n    });\r\n    \r\n    return data.length ? list : error ? (\r\n      <p className='error'>{error}. Please try again later.</p>\r\n    ) : searched ? (\r\n      <p>No results found.</p>\r\n    ) : '';\r\n  }\r\n\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    const start = (this.props.rel.page - 1) * 10;\r\n    const viewing = this.props.rel.count > start + 10 ? `Results ${start + 1} - ${start + 10} of ${this.props.rel.count}` : `Results ${start + 1} - ${this.props.rel.count} of ${this.props.rel.count}`;\r\n    return (\r\n      <ul className={`results animated ${animation}`}>\r\n        {this.props.rel.searched && this.props.rel.count > 0 ? (\r\n          <p>{viewing}</p>\r\n        ) : ''}\r\n        {this.generateResultsList()}\r\n        {this.props.rel.searched ? (\r\n          <li className=\"buttons\">\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.previous}\r\n              onClick={() => this.props.onNavigate(-1)}>Previous page</button>\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.next}\r\n              onClick={() => this.props.onNavigate(1)}>Next page</button>\r\n          </li>\r\n        ) : ''}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\n\r\nimport './Crawl.css';\r\n\r\nclass Crawl extends React.Component {\r\n  state = {\r\n    animation: 'fadeIn'\r\n  };\r\n\r\n  /** closes the component */\r\n  handleClose = () => {\r\n    this.setState({ animation: 'fadeOut' });\r\n    setTimeout(() => {\r\n      this.props.onClose();\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n\r\n    let i = 0;\r\n    const lines = data.content ? data.content.split('\\n').map(line => {\r\n      i++;\r\n      return (\r\n        <span key={line + i}>{line}<br/></span>\r\n      )}) : '';\r\n    return (\r\n      <div className={`crawl-space animated ${this.state.animation}`}>\r\n        <button onClick={this.handleClose}>Close</button>\r\n        <div className=\"crawl\">\r\n          <h2>{data.title}</h2>\r\n          <p>\r\n            {lines}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Crawl;","import React from 'react';\r\nimport './Footer.css';\r\n\r\nimport {InlineShareButtons} from 'sharethis-reactjs';\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <InlineShareButtons\r\n          config={{\r\n            alignment: 'center',\r\n            enabled: true,\r\n            networks: [\r\n              'facebook',\r\n              'twitter',\r\n              'pinterest',\r\n              'email',\r\n              'sms'\r\n            ],\r\n            radius: 50,\r\n            spacing: 8\r\n          }} />\r\n        <p>Designed & developed by <a href=\"https://malcolmkiano.com\" target=\"_blank\" rel=\"noopener noreferrer\">Malcolm Kiano</a>.</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport Header from '../Components/Header/Header';\r\nimport SearchForm from '../Components/SearchForm/SearchForm';\r\nimport Loader from '../Components/Loader/Loader';\r\nimport Results from '../Views/Results/Results';\r\nimport Crawl from '../Views/Crawl/Crawl';\r\nimport Footer from '../Components/Footer/Footer';\r\nimport './App.css';\r\n\r\nimport api from '../Modules/api';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    data: [],\r\n    count: 0,\r\n    searched: false,\r\n    loading: false,\r\n    endpoint: null,\r\n    query: null,\r\n    page: null,\r\n    next: null,\r\n    prev: null,\r\n    crawl: null,\r\n    error: null\r\n  }\r\n  \r\n  /** performs API call based on values in state */\r\n  getData() {\r\n    const {endpoint, query, page} = this.state;\r\n    api.getData(endpoint, query, page)\r\n      .then(data => {\r\n        this.setState({\r\n          data: data.results,\r\n          count: data.count,\r\n          searched: true,\r\n          loading: false,\r\n          next: data.next,\r\n          previous: data.previous\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loading: false,\r\n          error: err.message\r\n        });\r\n      });\r\n  }\r\n\r\n  /**\r\n   * updates value of page in state then calls getData\r\n   * @param {number} [n] number of pages to navigate (1 or -1)\r\n   */\r\n  navigateToPage = (n=1) => {\r\n    document.querySelector('.App').scrollTop = 0;\r\n    let page = this.state.page + n;\r\n    this.setState({ \r\n      page: page,\r\n      loading: true\r\n    }, this.getData);\r\n  }\r\n\r\n  /**\r\n   * updates state with values from form then calls getData\r\n   * @param {string} endpoint the endpoint to get data from\r\n   * @param {string} query the search query\r\n   */\r\n  handleSearch = (endpoint, query) => {\r\n    this.setState({\r\n      page: 1,\r\n      loading: true,\r\n      endpoint: endpoint,\r\n      query: query\r\n    }, this.getData);\r\n  }\r\n\r\n  /**\r\n   * shows crawl component when a film title is clicked\r\n   * @param {object} crawl the crawl object for the film\r\n   * @param {string} crawl.title the title of the film\r\n   * @param {string} crawl.content the crawl content for the film\r\n   */\r\n  handleCrawl = crawl => {\r\n    if (crawl) {\r\n      this.setState({\r\n        crawl: crawl\r\n      },\r\n      () => document.querySelector('.crawl-space button').focus()\r\n      );\r\n    }\r\n  }\r\n\r\n  /** closes the crawl component */\r\n  handleClose = () => {\r\n    this.setState({\r\n      crawl: null\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n  \r\n        <main>\r\n          <SearchForm onSearch={this.handleSearch} disabled={this.state.loading}/>\r\n          <Loader show={this.state.loading}/>\r\n\r\n          <Results\r\n            rel={this.state}\r\n            show={!this.state.loading}\r\n            onShowCrawl={this.handleCrawl}\r\n            onNavigate={this.navigateToPage}/>\r\n\r\n          {this.state.crawl && this.state.crawl.content && this.state.endpoint === 'films' ? (<Crawl data={this.state.crawl} onClose={this.handleClose}/>) : ''}\r\n\r\n        </main>\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}