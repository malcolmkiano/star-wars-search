{"version":3,"sources":["media/swlogo.svg","Components/Header.js","Components/SearchForm.js","Components/Loader.js","api.js","Components/Result.js","Components/Results.js","Components/Crawl.js","Components/Footer.js","App.js","index.js"],"names":["module","exports","Header","className","src","swlogo","alt","React","Component","SearchForm","handleSubmit","e","preventDefault","form","target","endpoint","value","query","props","onSearch","onSubmit","this","required","maxLength","type","name","spellCheck","autoComplete","placeholder","defaultValue","disabled","Loader","animation","show","get","url","error","fetch","then","res","ok","status","json","data","Promise","reject","getData","page","URL","Result","state","stats","Object","keys","forEach","stat","startsWith","api","setState","title","list","slice","sliced","length","all","map","join","crawl","hasCrawl","style","onClick","val","key","split","Results","obj","i","rel","searched","item","getStats","styleObj","animationDelay","content","undefined","itemObj","onShowCrawl","start","viewing","count","generateResultsList","previous","onNavigate","next","Crawl","handleClose","setTimeout","onClose","lines","line","Footer","href","App","loading","prev","navigateToPage","n","document","querySelector","scrollTop","handleSearch","handleCrawl","focus","results","catch","err","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c6040573.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/swlogo.c41f740a.svg\";","import React from 'react';\r\n\r\nimport swlogo from '../media/swlogo.svg'\r\nimport './Header.css';\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <div className=\"logo\">\r\n          <img src={swlogo} alt=\"Star Wars\"/>\r\n          <h1>SEARCH</h1>\r\n        </div>\r\n        <p>\r\n          Find people, planets, films, and more from the Star Wars Universe.\r\n        </p>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './SearchForm.css';\r\n\r\nclass SearchForm extends React.Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const endpoint = form.endpoint.value;\r\n    const query = form.query.value;\r\n    this.props.onSearch(endpoint, query);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className=\"searchform\">\r\n        <input required maxLength=\"50\" type=\"text\" name=\"query\" spellCheck=\"false\" autoComplete=\"off\" placeholder=\"Search criteria\"/>\r\n        <select name=\"endpoint\" defaultValue=\"people\">\r\n          <option value=\"people\">People</option>\r\n          <option value=\"planets\">Planets</option>\r\n          <option value=\"films\">Films</option>\r\n          <option value=\"species\">Species</option>\r\n          <option value=\"vehicles\">Vehicles</option>\r\n          <option value=\"starships\">Starships</option>\r\n        </select>\r\n        <span>â–¼</span>\r\n        <button disabled={this.props.disabled}>Search</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nclass Loader extends React.Component {\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    return (\r\n      <div className={`loader animated ${animation}`}>\r\n        <span></span><span></span><span></span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loader;","function get(url){\r\n  let error;\r\n  return fetch(url)\r\n    .then(res => {\r\n      if (!res.ok) error = res.status;\r\n\r\n      return res.json();\r\n    })\r\n    .then(data => {\r\n      if (error) {\r\n        return Promise.reject(error);\r\n      }\r\n\r\n      return data;\r\n    });\r\n}\r\n\r\nfunction getData(endpoint, query, page=1) {\r\n  const URL = `https://swapi.co/api/${endpoint}?search=${query}&page=${page}`;\r\n  return get(URL);\r\n}\r\n\r\nexport default {\r\n  getData,\r\n  get\r\n}","import React from 'react';\r\n\r\nimport api from '../api';\r\n\r\nclass Result extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ...props.data\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const limit = 3;\r\n    let {stats} = this.state;\r\n    Object.keys(stats).forEach(stat => {\r\n      if (typeof stats[stat] === 'string' && stats[stat].startsWith('http')) {\r\n        api.get(stats[stat])\r\n          .then(data => {\r\n            this.setState({\r\n              stats: {\r\n                ...this.state.stats,\r\n                [stat]: data.name || data.title\r\n              }\r\n            });\r\n          })\r\n      } else if (typeof stats[stat] === 'object') {\r\n        let list = stats[stat].slice(0, limit);\r\n        let sliced = stats[stat].length > limit ? ` + ${stats[stat].length - limit} more` : '';\r\n        Promise.all(list.map(url => api.get(url).then(data => data.name || data.title)))\r\n        .then(data => {\r\n          this.setState({\r\n            stats: {\r\n              ...this.state.stats,\r\n              [stat]: data.join(', ') + sliced\r\n            }\r\n          });\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {name, stats} = this.state;\r\n    return (\r\n      <li\r\n        className=\"animated fadeInUp\"\r\n        crawl={this.props.hasCrawl}\r\n        style={this.props.style}>\r\n        <h2><button onClick={this.props.onClick}>{name}</button></h2>\r\n        <div className=\"stats\">\r\n          {\r\n            Object.keys(stats).map(stat => {\r\n              let val = stats[stat];\r\n              if ((typeof val === 'object' && val[0].startsWith('http')) ||\r\n                  (typeof val === 'string' && val.startsWith('http'))) {\r\n                val = '...';\r\n              }\r\n              return (\r\n                <span key={stat} className=\"stat\">\r\n                  {stat.split('_').join(' ')}: <b>{val}</b>\r\n                </span>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Result;","import React from 'react';\r\n\r\nimport Result from './Result';\r\nimport './Results.css';\r\n\r\nclass Results extends React.Component {\r\n  getStats(obj) {\r\n    let data = {...obj}\r\n    Object.keys(data).forEach(stat => {\r\n      if (stat === 'name' ||\r\n        stat === 'title' ||\r\n        stat === 'created' ||\r\n        stat === 'edited' ||\r\n        stat === 'opening_crawl' ||\r\n        stat === 'url' ||\r\n        (typeof data[stat] === 'object' && data[stat].length === 0)) {\r\n        delete data[stat];\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  generateResultsList(){\r\n    let i = 0;\r\n    const {data, searched, error} = this.props.rel;\r\n    const list = data.map(item => {\r\n\r\n      const stats = this.getStats(item);\r\n      const styleObj = {\r\n        animationDelay: `${i * 0.2}s`\r\n      };\r\n      i++;\r\n\r\n      const crawl = {\r\n        title: item['title'],\r\n        content: item['opening_crawl']\r\n      };\r\n      const hasCrawl = crawl.content ? 'yes' : undefined;\r\n      const itemObj = {\r\n        name: item.name || item.title,\r\n        stats: stats\r\n      }\r\n\r\n      return (\r\n        <Result\r\n          key={itemObj.name}\r\n          onClick={() => crawl.content ? this.props.onShowCrawl(crawl) : ''}\r\n          hasCrawl={hasCrawl}\r\n          style={styleObj}\r\n          data={itemObj}\r\n          />\r\n      );\r\n    });\r\n    \r\n    return data.length ? list : error ? (\r\n      <p className='error'>{error}. Please try again later.</p>\r\n    ) : searched ? (\r\n      <p>No results found.</p>\r\n    ) : '';\r\n  }\r\n\r\n  render() {\r\n    let animation = this.props.show ? 'fadeIn' : 'fadeOut';\r\n    const start = (this.props.rel.page - 1) * 10;\r\n    const viewing = this.props.rel.count > start + 10 ? `Results ${start + 1} - ${start + 10} of ${this.props.rel.count}` : `Results ${start + 1} - ${this.props.rel.count} of ${this.props.rel.count}`;\r\n    return (\r\n      <ul className={`results animated ${animation}`}>\r\n        {this.props.rel.searched && this.props.rel.count > 0 ? (\r\n          <p>{viewing}</p>\r\n        ) : ''}\r\n        {this.generateResultsList()}\r\n        {this.props.rel.searched ? (\r\n          <li className=\"buttons\">\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.previous}\r\n              onClick={() => this.props.onNavigate(-1)}>Previous page</button>\r\n            <button\r\n              className=\"btn\"\r\n              disabled={!this.props.rel.next}\r\n              onClick={() => this.props.onNavigate(1)}>Next page</button>\r\n          </li>\r\n        ) : ''}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\n\r\nimport './Crawl.css';\r\n\r\nclass Crawl extends React.Component {\r\n  state = {\r\n    animation: 'fadeIn'\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ animation: 'fadeOut' });\r\n    setTimeout(() => {\r\n      this.props.onClose();\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n\r\n    let i = 0;\r\n    const lines = data.content ? data.content.split('\\n').map(line => {\r\n      i++;\r\n      return (\r\n        <span key={line + i}>{line}<br/></span>\r\n      )}) : '';\r\n    return (\r\n      <div className={`crawl-space animated ${this.state.animation}`}>\r\n        <button onClick={this.handleClose}>Close</button>\r\n        <div className=\"crawl\">\r\n          <h2>{data.title}</h2>\r\n          <p>\r\n            {lines}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Crawl;","import React from 'react';\r\n\r\nimport './Footer.css';\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <div className=\"links sharethis-inline-share-buttons\"></div>\r\n        <p>Designed & developed by <a href=\"https://malcolmkiano.com\" target=\"_blank\" rel=\"noopener noreferrer\">Malcolm Kiano</a>.</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\n\nimport Header from './Components/Header';\nimport SearchForm from './Components/SearchForm';\nimport Loader from './Components/Loader';\nimport Results from './Components/Results';\nimport Crawl from './Components/Crawl';\nimport Footer from './Components/Footer';\nimport './App.css';\n\nimport api from './api';\n\nclass App extends React.Component {\n  state = {\n    data: [],\n    count: 0,\n    searched: false,\n    loading: false,\n    endpoint: null,\n    query: null,\n    page: null,\n    next: null,\n    prev: null,\n    crawl: null,\n    error: null\n  }\n\n  getData() {\n    const {endpoint, query, page} = this.state;\n    api.getData(endpoint, query, page)\n      .then(data => {\n        this.setState({\n          data: data.results,\n          count: data.count,\n          searched: true,\n          loading: false,\n          next: data.next,\n          previous: data.previous\n        });\n      })\n      .catch(err => {\n        this.setState({\n          loading: false,\n          error: err.message\n        });\n      });\n  }\n\n  navigateToPage = (n=1) => {\n    document.querySelector('.App').scrollTop = 0;\n    let page = this.state.page + n;\n    this.setState({ \n      page: page,\n      loading: true\n    }, this.getData);\n  }\n\n  handleSearch = (endpoint, query) => {\n    this.setState({\n      page: 1,\n      loading: true,\n      endpoint: endpoint,\n      query: query\n    }, this.getData);\n  }\n\n  handleCrawl = crawl => {\n    if (crawl) {\n      this.setState({\n        crawl: crawl\n      },\n      () => document.querySelector('.crawl-space button').focus()\n      );\n    }\n  }\n\n  handleClose = () => {\n    this.setState({\n      crawl: null\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header />\n  \n        <main>\n          <SearchForm onSearch={this.handleSearch} disabled={this.state.loading}/>\n          <Loader show={this.state.loading}/>\n\n          <Results\n            rel={this.state}\n            show={!this.state.loading}\n            onShowCrawl={this.handleCrawl}\n            onNavigate={this.navigateToPage}/>\n\n          {this.state.crawl && this.state.crawl.content && this.state.endpoint === 'films' ? (<Crawl data={this.state.crawl} onClose={this.handleClose}/>) : ''}\n\n        </main>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}